(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r),"symbol"===n(i)?i:String(i)),o)}var r,i}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var r=function(){function e(n,a,o,r,i,c){t(this,e),this.id=n,this.title=a,this.description=o,this.status=r,this.dueDate=i,this.projectId=c}return o(e,[{key:"toggleStatus",value:function(){this.status=!this.status}},{key:"updateDueDate",value:function(e){this.dueDate=e}},{key:"editTodo",value:function(e,t,n){this.title=e,this.description=t,this.dueDate=n}}]),e}(),i=function(){function e(n,a,o){t(this,e),this.id=n,this.name=a,this.description=o}return o(e,[{key:"editProject",value:function(e,t){this.name=e,this.description=t}}]),e}();const c=function(e,t){var n=document.getElementById("main"),a=document.createElement("section"),o=document.createElement("section"),c="todoForm"===e?function(e){console.log(null==e?void 0:e.dueDate);var t=document.createElement("form");t.className="todo-form";var n=document.createElement("span");n.className="input-span";var a=document.createElement("label");a.setAttribute("for","title"),a.className="label",a.textContent="Title";var o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("name","title"),o.setAttribute("id","title"),o.value=e?e.title:"",n.appendChild(a),n.appendChild(o);var i=document.createElement("span");i.className="input-span";var c=document.createElement("label");c.setAttribute("for","description"),c.className="label",c.textContent="Description";var d=document.createElement("textarea");d.setAttribute("name","description"),d.setAttribute("id","description"),d.textContent=null==e?void 0:e.description,i.appendChild(c),i.appendChild(d);var s=document.createElement("span");s.className="input-span";var u=document.createElement("label");u.setAttribute("for","dueDate"),u.className="label",u.textContent="Due Date";var m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("name","dueDate"),m.setAttribute("id","dueDate"),m.value=e?"".concat(e.dueDate.split("/")[2],"-").concat(e.dueDate.split("/")[1],"-").concat(e.dueDate.split("/")[0]):"",s.appendChild(u),s.appendChild(m);var p=document.createElement("input");p.className="submit",p.setAttribute("type","submit"),p.value=e?"Save":"Add To-Do",p.addEventListener("click",(function(t){var n,a,i,c,s,u,p;e?(n=e,a=o.value,i=d.value,c=m.value,p=(u=(s=JSON.parse(localStorage.getItem("todos"))||[]).todos).findIndex((function(e){return e.id===n.id})),n.title=a,n.description=i,n.dueDate=l(c),-1!==p&&(u[p]=n,s.todos=u,localStorage.setItem("todos",JSON.stringify(s)))):function(e,t,n){var a=JSON.parse(localStorage.getItem("todos"))||[],o=JSON.parse(localStorage.getItem("activeProjectId")),i=new r(a.todos.length+1,e,t,!1,l(n),o);a.todos.push(i),localStorage.setItem("todos",JSON.stringify(a))}(o.value,d.value,m.value)}));var f=document.createElement("i");return f.className="fa fa-times close-icon",f.addEventListener("click",(function(){document.querySelector(".modal-overlay").remove()})),t.appendChild(f),t.appendChild(n),t.appendChild(i),t.appendChild(s),t.appendChild(p),t}(t):function(){var e=document.createElement("form");e.className="todo-form";var t=document.createElement("span");t.className="input-span";var n=document.createElement("label");n.setAttribute("for","projectTitle"),n.className="label",n.textContent="Project Title";var a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("name","projectTitle"),a.setAttribute("id","projectTitle"),t.appendChild(n),t.appendChild(a);var o=document.createElement("span");o.className="input-span";var r=document.createElement("label");r.setAttribute("for","projectDescription"),r.className="label",r.textContent="Project Description";var c=document.createElement("textarea");c.setAttribute("name","projectDescription"),c.setAttribute("id","projectDescription"),o.appendChild(r),o.appendChild(c);var l=document.createElement("i");l.className="fa fa-times close-icon",l.addEventListener("click",(function(){document.querySelector(".modal-overlay").remove()}));var d=document.createElement("input");return d.className="submit",d.setAttribute("type","submit"),d.textContent="Add Project",d.addEventListener("click",(function(){var e,t,n,o;e=a.value,t=c.value,n=JSON.parse(localStorage.getItem("projects"))||[],o=new i(n.projects.length+1,e,t),n.projects.push(o),localStorage.setItem("projects",JSON.stringify(n))})),e.appendChild(l),e.appendChild(t),e.appendChild(o),e.appendChild(d),e}();return a.className="modal-overlay",o.className="modal-content",o.appendChild(c),a.appendChild(o),n.appendChild(a),a};function l(t){var n,a,o=(n=t.split("-"),a=3,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,r,i,c=[],l=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){d=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(n,a)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],i=o[1],c=o[2];return"".concat(c,"/").concat(i,"/").concat(r)}const d=function(){var e=[];return(JSON.parse(localStorage.getItem("projects"))||[]).projects.forEach((function(t){var n=new i(t.id,t.name,t.description);e.push(n)})),e};function s(){this.classList.toggle("hovered")}function u(){document.querySelectorAll("ul > li").forEach((function(e){return e.classList.remove("active")})),this.classList.toggle("active")}function m(){var e=this.id.replace("project_","");localStorage.setItem("activeProjectId",e),location.reload()}var p,f,v,h,E,b,g,C,y,N=document.getElementById("main"),S=function(e){var t=document.createElement("header"),n=document.createElement("h2"),a=document.createElement("p"),o=document.createElement("div"),r=document.createElement("i"),i=parseInt(localStorage.getItem("activeProjectId")),c=e.filter((function(e){return e.id==i}))[0];return t.className="header",n.className="project-title",o.className="toggle",r.className="fa fa-chevron-left",n.textContent=c.name,a.textContent=c.description,o.addEventListener("click",(function(){var e=document.querySelector(".navigation");main.classList.toggle("active"),e.classList.toggle("active"),r.classList.toggle("fa-chevron-left"),r.classList.toggle("fa-chevron-right")})),o.appendChild(r),t.appendChild(o),t.appendChild(n),t.appendChild(a),t}(d()),j=function(e){var t=parseInt(localStorage.getItem("activeProjectId")),n=e.filter((function(e){return e.projectId==t})),a=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div");return a.className="todos",o.className="todoList",r.className="listTitle",r.textContent="To-Do List",n.forEach((function(e){var t=function(e){var t=document.createElement("div");return t.className="card",t.appendChild(function(e){var t=document.createElement("div");t.className="cardTitle";var n=document.createElement("h2");return n.textContent=e,t.appendChild(n),t}(e.title)),t.appendChild(function(e){var t=document.createElement("div"),n=document.createElement("p"),a=document.createElement("input"),o=document.createElement("p"),r=document.createElement("div");return t.className="body",r.className="checkbox-container",n.textContent=e.description,o.textContent=e.dueDate,a.type="checkbox",e.status&&(a.checked=!0),r.addEventListener("click",(function(){a.checked=!a.checked,function(e){e.toggleStatus();var t=JSON.parse(localStorage.getItem("todos"))||[],n=t.todos,a=n.findIndex((function(t){return t.id===e.id}));-1!==a&&(n[a]=e,t.todos=n,localStorage.setItem("todos",JSON.stringify(t)))}(e)})),t.appendChild(n),t.appendChild(a),t.appendChild(r),t.appendChild(o),t}(e)),t.appendChild(function(e){var t=document.createElement("div"),n=document.createElement("i"),a=document.createElement("i");return t.className="actions",n.className="fa fa-pencil",a.className="fa fa-trash",n.addEventListener("click",(function(){return function(e){c("todoForm",e)}(e)})),a.addEventListener("click",(function(){return function(e){if(confirm("¿Estás seguro de que deseas eliminar este 'todo'?")){var t=JSON.parse(localStorage.getItem("todos"))||[],n=t.todos.filter((function(t){return t.id!==e.id}));t.todos=n,localStorage.setItem("todos",JSON.stringify(t)),location.reload()}}(e)})),t.appendChild(n),t.appendChild(a),t}(e)),t}(e);a.appendChild(t)})),o.appendChild(r),o.appendChild(a),o}((p=[],(JSON.parse(localStorage.getItem("todos"))||[]).todos.forEach((function(e,t){var n=new r(t+1,e.title,e.description,e.status,e.dueDate,e.projectId);p.push(n)})),p)),I=(f=d(),v=document.createElement("div"),h=document.createElement("div"),E=document.createElement("ul"),b=document.createElement("button"),g=document.createElement("button"),C=document.createElement("hr"),y=document.createElement("h1"),v.className="navigation",h.className="forms-buttons",b.textContent="New project",g.textContent="New To-Do",y.textContent="Remembrall App",g.addEventListener("click",(function(){return c("todoForm")})),b.addEventListener("click",(function(){return c("projectForm")})),f.forEach((function(e){var t=document.createElement("li"),n=document.createElement("p");e.id==localStorage.getItem("activeProjectId")&&(t.className="active"),t.setAttribute("id","project_".concat(e.id)),n.className="title",n.textContent=e.name,t.addEventListener("mouseover",s),t.addEventListener("mouseout",s),t.addEventListener("click",u),t.addEventListener("click",m),t.appendChild(n),E.appendChild(t)})),h.appendChild(b),h.appendChild(g),v.appendChild(y),v.appendChild(h),v.appendChild(C),v.appendChild(E),v);N.appendChild(I),N.appendChild(S),N.appendChild(j)})();